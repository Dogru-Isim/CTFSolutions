# THM: Internal

# OS: Linux (Hard)

----

**Rules:**

- Ensure that you modify your hosts file to reflect internal.thm
- Any tools or techniques are permitted in this engagement
- Locate and note all vulnerabilities found
- Submit the flags discovered to the dashboard
- Only the IP address assigned to your machine is in scope

----

### [NOTES]

- Found http://internal.thm/blog

- Valid admin credentials found: `admin:my2boys`

- Jenkins running at localhost:8080

- Logged in to Jenkins with `admin:spongebob`

- Got  revshell to docker by modifying build command

- Found file containing password: `/opt/note.txt`
  
  - root - tr0ub13guM!@#123

- SSH'd in with `root:tr0ub13guM!@#123`



Names:

- Unknown
  
  - Will
  
  - Bill
  
  - william

- System
  
  - aubreanna

- Docker
  
  - jenkins

- Wordpress
  
  - admin (wordpress)
    
    

Passwords:

- arnold147

- my2boys

- wordpress123

- bubb13guM!@#123

- spongebob

- tr0ub13guM!@#123



Creds:

- Unknown
  
  - william:arnold147

- Wordpress
  
  - admin - my2boys

- MySQL
  
  - wordpress - wordpress123

- System
  
  - aubreanna - bubb13guM!@#123
  
  - root - tr0ub13guM!@#123

- Jenkins (Internal)
  
  - admin - spongebob



----



## [WEB]

**Port -> 80**

- Found apache default web page

- Found wordpress -> http://internal.thm/blog

#### - Wordpress

  http://internal.thm/blog

- No bruteforce protection found

- Found admin credentials by bruteforcing -> admin - my2boys

- Found credentials in private posts after logging in as admin
  
  ```
  To-Do
  
  Don’t forget to reset Will’s credentials. william:arnold147
  ```

- Credentials:
  
  - admin:my2boys

- Got reverse shell by logging in as admin and editing `blog` theme of the wordpress page.



---- 



## [Internal]



- Got shell as www-data

- Got mysql credentials by reading `wp-config.php`
  
  ```
  wordpress - wordpress123
  ```

- Found aubreanna's system credentials in `/opt/wp-save.txt`:
  
  ```
  aubreanna - bubb13guM!@#123
  ```
  
  - These credentials can log in with SSH into aubreanna

- Found internal `Jenkins` service at `http://localhost:8080`



#### Jenkins

- Running in a container at localhost:8080

- No bruteforce protection found

- Found credentails by bruteforcing login page
  
  ```
  admin - spongebob
  ```

- Logged in as `admin` with the found credentials, created a new project and got a reverse shell as `jenkins` in the docker container by modifying the build command 



#### Docker

- Got reverse shell as `jenkins` after running a reverse shell via `localhost:8080`

- Found file with credentials: `/opt/note.txt`
  
  ```
  Aubreanna,
  
  Will wanted these credentials secured behind the Jenkins container
  since we have several layers of defense here. Use them if you 
  need access to the root user account.
  
  root:tr0ub13guM!@#123
  ```
  
  
